
CREATE TABLE ROUTER_CONFIG
(
    ID           NUMBER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) PRIMARY KEY NOT NULL,
    LINK_KEY     VARCHAR(20) NOT NULL,
    ENABLED      INTEGER DEFAULT 1 NOT NULL,
    LINK_DEST    VARCHAR(256) NOT NULL,
    LINK_IMG     VARCHAR(256),
    INSERTED_AT  DATE DEFAULT SYSDATE NOT NULL,
    UPDATED_AT   DATE
);

COMMENT ON TABLE ROUTER_CONFIG IS 'Store router configs /cd/router/route/*';

COMMENT ON COLUMN ROUTER_CONFIG.ID IS 'PK';
COMMENT ON COLUMN ROUTER_CONFIG.LINK_KEY IS 'Key for link type: PROMOTII, OFERTE, INFO, etc';
COMMENT ON COLUMN ROUTER_CONFIG.ENABLED IS 'Link active/disabled';

COMMENT ON COLUMN ROUTER_CONFIG.LINK_DEST IS 'Link destination redirect';
COMMENT ON COLUMN ROUTER_CONFIG.LINK_IMG IS 'Img link';

COMMENT ON COLUMN ROUTER_CONFIG.UPDATED_AT IS 'updated at timestamp';
COMMENT ON COLUMN ROUTER_CONFIG.INSERTED_AT IS 'inserted at timestamp';


ALTER TABLE ROUTER_CONFIG ADD CONSTRAINT LINK_KEY_UK UNIQUE (LINK_KEY);
ALTER TABLE ROUTER_CONFIG ADD CONSTRAINT CK_ENABLED CHECK (ENABLED=0 OR ENABLED=1);


